
autoforget TEST
: TEST ;

decimal

FileOutStream testFileOut

scSetShowID(false)

: runtest
  depth -> int oldDepth
  mko String testName
  mko String testScriptName
  testName.set(blword)
  testScriptName.set(testName.get) testScriptName.append(".txt")
  "##################### run " %s testScriptName.get %s " #####################\n" %s
  $load(testScriptName.get)
  if(depth oldDepth <>)
    "!!!!!!!!!!!!!!!!!!!!!! stack depth changed !!!!!!!!!!!!!!!!!!!!!!\n" %s
    ds
  endif
  oclear testName
  oclear testScriptName
;

runtest evil
forget EVIL

runtest philosophers
go
goAsync
forget PHILOSOPHERS

runtest pizzashop
go
goAsync
forget PIZZASHOP

200 -> int numElems
runtest sort_examples
go
forget SORT_EXAMPLES

runtest tree_examples
go
forget TREE_EXAMPLES

cd newadv
runtest adv
forget ADV
cd ..

cd atc
runtest atc
forget ATC
cd ..

cd system
: _TEST_ ;
runtest hersheyfont
runtest file
runtest rbtree
forget _TEST_
cd ..

cd tests

runtest biclasstest
cleanup
forget BUILTIN_CLASS_TEST

runtest rctest
test
cleanup
forget RCTEST

runtest structtest
forget STRUCTTEST

runtest misctest
forget MISCTEST

runtest forthtest

runtest ansitest

forget TEST
cd ..


